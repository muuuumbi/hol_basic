## Custom Parameter Group ìƒì„±

RDS DB ì—”ì§„ì˜ ì„¤ì • ê°’(Parameter)ë¥¼ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥

> ğŸ’¡ **Default Parameter Group vs Custom Parameter Group**
> - **Default Parameter Group**: RDSì—ì„œ ê¸°ë³¸ ì œê³µí•˜ë©° ìˆ˜ì • ë¶ˆê°€  
> - **Custom Parameter Group**: ì‚¬ìš©ìê°€ ìƒì„±í•˜ê³  ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥  

> ğŸ’¡ **Parameter Classification**
> - **Dynamic Parameters**: ë³€ê²½ ì‚¬í•­ ì¦‰ì‹œ ì ìš©  
> - **Static Parameters**: ë³€ê²½ ì‚¬í•­ì€ RDS ì¸ìŠ¤í„´ìŠ¤ ì¬ë¶€íŒ… í•„ìš” (Custom Parameter Groupì˜ ëŒ€ë¶€ë¶„ì€ Static 

> ğŸ’¡ **Parameter Type**
> - **DB Parameters Group**: ë‹¨ì¼ Aurora ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì„¤ì • ê´€ë¦¬  
> - **Cluster Parameters Group**: Aurora í´ëŸ¬ìŠ¤ì—ì„œ ì†í•œ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ì— ì „ì—­ìœ¼ë¡œ ì ìš©ë˜ëŠ” ì„¤ì • ê´€ë¦¬

### 1. RDS, Aurora ìƒì„± í›„ ìì£¼ ì„¤ì •í•˜ê²Œ ë˜ëŠ” Parameter Group ì„¤ì •

| Parameter Name                     | Default  |           Recommended            | Description                                                            |
| :--------------------------------- | :------: | :------------------------------: | :--------------------------------------------------------------------- |
| timezone                           |   UTC    |            Asia/Seoul            | ì„œë²„ì˜ ì‹œê°„ëŒ€ë¥¼ ì„œìš¸ ì‹œê°„(Asia/Seoul)ìœ¼ë¡œ ì„¤ì •                         |
| log_temp_files                     |    0     |               1024               | ì„¤ì • ê°’(KB) ì´ìƒì˜ ì„ì‹œ íŒŒì¼ì„ ì‚¬ìš©í•˜ëŠ” SQL ì¿¼ë¦¬ë¥¼ ê¸°ë¡                |
| log_min_messages                   | warning  |              error               | ë¡œê·¸ì— ê¸°ë¡ë˜ëŠ” ë©”ì‹œì§€ ì¢…ë¥˜ë¥¼ error ë¡œê·¸ ë ˆë²¨ ì´ìƒìœ¼ë¡œ ì„¤ì •            |
| log_lock_waits                     |    0     |                1                 | ì§€ì • ì‹œê°„ ë™ì•ˆ ì ê¸´ íŠ¸ëœì­ì…˜ì„ ë¡œê¹…í•´ êµì°© ìƒíƒœ ê°ì§€                   |
| log_statement                      |   none   |               ddl                | ë¡œê·¸ì— ë‚¨ê¸¸ SQL ëª…ë ¹ì˜ ìœ í˜•ì„ ì„¤ì • (DDL, MOD, ALL, NONE)               |
| log_min_duration_statement         |    -1    |             100 or 1             | ì§€ì • ì‹œê°„(ms) ì´ìƒ ì†Œìš”ëœ ì¿¼ë¦¬ ë¡œê¹…í•˜ì—¬ ëŠë¦° ì¿¼ë¦¬ ì¶”ì                  |
| log_autovacuum_min_duration        |    -1    |               1000               | ì§€ì • ì‹œê°„(ms) ì´ìƒ ì†Œìš”ëœ autovacuum ì‘ì—… ë¡œê¹…                         |
| rds.force_autovacuum_logging_level | disabled |               log                | autovacuum ë¡œê·¸ì˜ ë¡œê¹… ë ˆë²¨ ì„¤ì •                                       |
| auto_explain.log_min_duration      |    -1    |               1000               | ì§€ì • ì‹œê°„(ms) ì´ìƒì˜ ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì„ ë¡œê¹…                             |
| shared_preload_libraries           |   none   | auto_explain, pg_stat_statements | ì‹¤í–‰ ê³„íš ë° ì„±ëŠ¥ í†µê³„ë¥¼ ë¡œê¹…í•˜ëŠ” ê¸°ëŠ¥ ì„¤ì •                            |
| log_error_verbosity                | default  |             verbose              | ì˜¤ë¥˜ ë¡œê·¸ì˜ ìƒì„¸ ìˆ˜ì¤€ì„ ì„¤ì • (terse, default, verbose)                 |
| rds.force_admin_logging_level      | disabled |               log                | ë§ˆìŠ¤í„° ì‚¬ìš©ìì˜ í™œë™ ë¡œê·¸ ë ˆë²¨ ì„¤ì • (ë§ˆìŠ¤í„° ê´€ë¦¬ìê°€ ì‹¤í–‰í•œ ëª¨ë“  ì¿¼ë¦¬) |

### 2. Custom Parameter Group ì´ìš© timezone ì„¤ì •

#### 2.1 Parameter Group ìƒì„±

- **RDS ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `íŒŒë¼ë¯¸í„° ê·¸ë£¹` íƒ­ â†’ `íŒŒë¼ë¯¸í„° ê·¸ë£¹ ìƒì„±` ë²„íŠ¼ í´ë¦­**

  ![alt text](./img/create_parameter_group_01.png)

- ì•„ë˜ ëª…ì„¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ìƒì„± ì •ë³´ ì…ë ¥

  - íŒŒë¼ë¯¸í„° ê·¸ë£¹ ì´ë¦„: lab-edu-pg-postgresql

  - ì—”ì§„ ìœ í˜•: Aurora PostgreSQL

  - íŒŒë¼ë¯¸í„° ê·¸ë£¹ íŒ¨ë°€ë¦¬: aurora-postgresql15

  - ìœ í˜•: DB Cluster Parameter Group






























































































<!-- ### 6. PostgreSQL Database, User ìƒì„± ë° ê¶Œí•œ í• ë‹¹

- Cloud9 IDE ì ‘ì† â†’ SQL Query Sample íŒŒì¼ ì—´ê¸° (support_files/sql_query/initial_settings_db.sql) â†’ ë‚´ìš© ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸°

    ```sql
    create database trip_advisor;
    create user "user" with password 'qwer1234';
    grant all privileges on database trip_advisor to "user";
    alter database trip_advisor owner to "user";
    ```

- 'user' ê³„ì • í™œìš© 'trip_advisor' ì ‘ì† í…ŒìŠ¤íŠ¸

    ```bash
    psql â€“U user â€“d trip_advisor â€“h {RDS_AURORA_ENDPOINT}   # ì•ì—ì„œ ë©”ëª¨ì¥ì— ì €ì¥í•œ RDS Aurora ì—”ë“œí¬ì¸ ì •ë³´ ì…ë ¥
    Password for user user: {RDS_AURORA_PASSWORD}       # ìƒì„±ê³¼ì •ì— ì…ë ¥í–ˆë˜ íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥
    ``` -->